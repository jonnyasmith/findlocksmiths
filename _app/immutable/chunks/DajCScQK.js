import{d as v,h as A,i as L,E as O,u as Y,v as q,w as B,s as C,x as S,y as h,e as N,z as R,U as F,j as H,A as U,B as j,C as p,D as w,S as z}from"./tnJG9dtf.js";function P(a,t,[r,f]=[0,0]){A&&r===0&&L();var i=a,s=null,c=null,u=F,k=r>0?O:0,e=!1;const D=(n,l=!0)=>{e=!0,I(l,n)},I=(n,l)=>{if(u===(u=n))return;let E=!1;if(A&&f!==-1){if(r===0){const T=i.data;T===Y?f=0:T===q?f=1/0:(f=parseInt(T.substring(1)),f!==f&&(f=u?1/0:-1))}const g=f>r;!!u===g&&(i=B(),C(i),S(!1),E=!0,f=-1)}u?(s?h(s):l&&(s=N(()=>l(i))),c&&R(c,()=>{c=null})):(c?h(c):l&&(c=N(()=>l(i,[r+1,f]))),s&&R(s,()=>{s=null})),E&&S(!0)};v(()=>{e=!1,t(D),e||I(null,null)},k),A&&(i=H)}function b(a,t){return a===t||(a==null?void 0:a[z])===t}function Z(a={},t,r,f){return U(()=>{var i,s;return j(()=>{i=s,s=[],p(()=>{a!==r(...s)&&(t(a,...s),i&&b(r(...i),a)&&t(null,...i))})}),()=>{w(()=>{s&&b(r(...s),a)&&t(null,...s)})}}),a}export{Z as b,P as i};
